# 高级搜索技术

## 搜索过滤

### 按日期范围

使用 `created_date_range` 查找近期内容：

```
filters: {
  created_date_range: {
    start_date: "2024-01-01",
    end_date: "2025-01-01"
  }
}
```

**何时使用**：
- 查找主题的近期更新
- 专注于当前信息
- 排除过时内容

### 按创建者

使用 `created_by_user_ids` 查找特定人员的内容：

```
filters: {
  created_by_user_ids: ["user-id-1", "user-id-2"]
}
```

**何时使用**：
- 从主题专家研究
- 团队特定信息
- 归因跟踪

### 组合过滤

堆叠过滤器以提高精确度：

```
filters: {
  created_date_range: {
    start_date: "2024-10-01"
  },
  created_by_user_ids: ["expert-user-id"]
}
```

## 范围搜索

### 团队空间范围

将搜索限制到特定团队空间：

```
teamspace_id: "teamspace-uuid"
```

**何时使用**：
- 项目特定研究
- 部门专注信息
- 减少来自不相关结果的噪音

### 页面范围

在特定页面及其子页面内搜索：

```
page_url: "https://notion.so/workspace/Page-Title-uuid"
```

**何时使用**：
- 在项目层次结构内研究
- 文档更新
- 专注调查

### 数据库范围

在数据库内容内搜索：

```
data_source_url: "collection://data-source-uuid"
```

**何时使用**：
- 任务/项目数据库研究
- 结构化数据调查
- 查找特定条目

## 搜索策略

### 从宽泛到精确

1. 从通用搜索词开始
2. 审查相关团队空间/页面的结果
3. 使用范围过滤器重新搜索
4. 从顶级结果获取详细内容

**示例**：
```
搜索 1：query="API integration" → 工作区 50 个结果
搜索 2：query="API integration", teamspace_id="engineering" → 12 个结果
获取：最相关的 3-5 个页面
```

### 多查询方法

使用相关术语运行并行搜索：

```
查询 1："API integration"
查询 2："API authentication"
查询 3："API documentation"
```

结合结果以构建全面图景。

### 时间研究

跨时间段搜索以跟踪演变：

```
搜索 1：created_date_range 2023 → 历史上下文
搜索 2：created_date_range 2024 → 近期发展
搜索 3：created_date_range 2025 → 当前状态
```

## 结果处理

### 识别相关结果

查找：
- **高语义匹配**：结果摘要紧密匹配查询意图
- **近期更新**：最后编辑日期是近期的
- **权威来源**：由已知专家或在官方位置创建
- **全面内容**：结果摘要建议详细信息

### 优先获取

按相关性顺序获取页面：

1. **主要来源**：直接文档、官方页面
2. **近期更新**：新编辑的内容
3. **相关上下文**：支持信息
4. **历史参考**：背景和上下文

不要获取所有内容 - 根据研究需求选择性获取。

### 处理过多结果

如果搜索返回 20+ 个结果：

1. **添加过滤器**：按日期、创建者或团队空间缩小范围
2. **优化查询**：使用更具体的术语
3. **使用页面范围**：在相关父页面内搜索
4. **策略性采样**：获取多样化结果（近期、热门、权威）

### 处理过少结果

如果搜索返回 < 3 个结果：

1. **扩大查询**：使用更通用的术语
2. **移除过滤器**：搜索整个工作区
3. **尝试同义词**：替代术语
4. **在相关区域搜索**：相邻团队空间或页面

## 搜索质量

### 有效的搜索查询

**好的查询**（具体、语义）：
- "Q4 产品路线图"
- "身份验证实施指南"
- "客户反馈主题"

**弱的查询**（太模糊）：
- "roadmap"
- "guide"
- "feedback"

**过度具体的查询**（太狭窄）：
- "Q4 2024 年移动应用版本 3.2 功能 X 的产品路线图"

### 用户上下文

始终使用可用的用户上下文：
- 查询应匹配他们的术语
- 范围到他们相关的团队空间
- 考虑他们的角色/部门
- 引用他们的近期页面

## 连接的来源

### Notion 集成

搜索扩展到 Notion 页面之外：
- Slack 消息（如果已连接）
- Google Drive 文档（如果已连接）
- GitHub 问题/PR（如果已连接）
- Jira 工单（如果已连接）

注意结果可能来自这些来源。

### 来源归因

当引用来自连接来源的结果时：
- 在文档中注明来源类型
- 使用适当的提及格式
- 验证用户对源系统的访问权限

