{
  "name": "创建决策记录",
  "skills": ["knowledge-capture"],
  "query": "记录我们为新服务使用 PostgreSQL 而不是 MongoDB 的决策",
  "context": "用户刚刚解释了决策，包括理由、考虑的选项和权衡",
  "expected_behavior": [
    "从对话上下文中识别这是决策记录（架构决策）",
    "使用决策结构：上下文 → 决策 → 理由 → 考虑的选项（带优/缺）→ 后果 → 实施",
    "从上下文中提取：做出的决策、考虑的选项（PostgreSQL vs MongoDB）、理由、权衡",
    "创建包含适当结构的文档，包括日期、状态（已接受）和决策者",
    "在后果部分包括积极和消极后果（权衡）",
    "使用 Notion:notion-search 检查决策日志数据库是否存在",
    "如果数据库存在，询问是添加到那里还是创建独立页面",
    "如果在数据库中创建，使用 Notion:notion-fetch 获取模式并设置属性：决策标题、日期、状态（架构）、决策者、影响",
    "使用 Notion:notion-create-pages，对于数据库使用 parent: { data_source_id } 或对于父页面使用 { page_id }",
    "应用适当的 Notion markdown 格式化，包含章节",
    "建议从架构文档或项目页面链接"
  ],
  "success_criteria": [
    "文档遵循 SKILL.md 内容类型中的决策结构",
    "所有关键章节都存在：上下文、决策、理由、考虑的选项（每个带优/缺）、后果、实施",
    "决策清楚陈述（选择了 PostgreSQL 而不是 MongoDB）",
    "考虑的选项使用优/缺结构进行记录",
    "理由根据对话上下文解释为什么选择 PostgreSQL",
    "后果包括积极（好处）和消极（权衡）",
    "如果在数据库中，从模式正确设置属性（决策、日期、状态：已接受、领域：架构、影响）",
    "文档有日期且状态为'已接受'",
    "使用正确的工具名称（Notion:notion-search、Notion:notion-fetch、Notion:notion-create-pages）"
  ]
}
